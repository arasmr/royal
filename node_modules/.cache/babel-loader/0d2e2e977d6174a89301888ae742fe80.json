{"ast":null,"code":"import _objectSpread from \"/Users/emrearas/Desktop/royal/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/emrearas/Desktop/royal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/emrearas/Desktop/royal/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/emrearas/Desktop/royal/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/emrearas/Desktop/royal/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/emrearas/Desktop/royal/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/emrearas/Desktop/royal/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/emrearas/Desktop/royal/src/Components/Settings/AddMenuForm.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar AddFishForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddFishForm, _React$Component);\n\n  function AddFishForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddFishForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddFishForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selectedImage: null\n    };\n    _this.nameRef = React.createRef();\n    _this.priceRef = React.createRef();\n    _this.typeRef = React.createRef();\n    _this.descRef = React.createRef();\n    _this.imageRef = React.createRef();\n    _this.testRef = React.createRef();\n\n    _this.createMenuItem = function (event) {\n      event.preventDefault();\n      var menuItem = {\n        name: _this.nameRef.current.value,\n        price: parseFloat(_this.priceRef.current.value),\n        type: _this.typeRef.current.value,\n        desc: _this.descRef.current.value,\n        image: _this.imageRef.current.value\n      };\n\n      _this.props.addMenuItem(menuItem);\n\n      event.currentTarget.reset();\n    };\n\n    _this.uploadFile = function (e, key) {\n      var file = e.target.files[0];\n      var url = \"https://api.cloudinary.com/v1_1/djgv39mwv/upload\";\n      var xhr = new XMLHttpRequest();\n      var fd = new FormData();\n      xhr.open('POST', url, true);\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n      xhr.onreadystatechange = function (e) {\n        var _this2 = this;\n\n        if (xhr.readyState === 4 && xhr.status === 200) {\n          var data = Object.values(JSON.parse(xhr.responseText))[13];\n          this.setState({\n            url: data\n          }, function () {\n            var updatedMenuItem = _objectSpread({}, _this2.state.menuItem, {\n              'image': data\n            });\n\n            _this2.updateMenuItem(key, updatedMenuItem);\n          });\n        }\n      }.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n      fd.append('upload_preset', 'ombjh6fb');\n      fd.append('tags', 'browser_upload');\n      fd.append('file', file);\n      xhr.send(fd);\n    };\n\n    _this.handlePicture = function (e, key) {\n      _this.uploadFile(e, key);\n    };\n\n    _this.fieldChange = function (event) {\n      _this.setState({\n        selectedImage: event.target.files[0]\n      }, function () {\n        return _this.handleImage;\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(AddFishForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"form\", {\n        className: \"menu-edit\",\n        onSubmit: this.createMenuItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        style: {\n          'float': 'left',\n          'width': '33%'\n        },\n        name: \"name\",\n        ref: this.nameRef,\n        type: \"text\",\n        placeholder: \"Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        style: {\n          'float': 'left',\n          'width': '33%'\n        },\n        name: \"price\",\n        ref: this.priceRef,\n        type: \"text\",\n        placeholder: \"Price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(\"select\", {\n        style: {\n          'float': 'left',\n          'width': '33%'\n        },\n        name: \"type\",\n        ref: this.typeRef,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Voorgerechten\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Voorgerechten\"), React.createElement(\"option\", {\n        value: \"Hoofdgerechten\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Hoofdgerechten\"), React.createElement(\"option\", {\n        value: \"Nagerechten\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Nagerechten\")), React.createElement(\"textarea\", {\n        name: \"desc\",\n        ref: this.descRef,\n        type: \"text\",\n        placeholder: \"Desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        style: {\n          'float': 'left',\n          'width': '70%'\n        },\n        type: \"text\",\n        name: \"image\",\n        onChange: function onChange(e) {\n          return _this3.props.handlePicture(e);\n        },\n        value: this.props.menuItem.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        style: {\n          'float': 'rigth',\n          'width': '30%'\n        },\n        type: \"file\",\n        onChange: function onChange(e) {\n          return _this3.props.handlePicture(e, _this3.props.index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Add Menu Item\"));\n    }\n  }]);\n\n  return AddFishForm;\n}(React.Component);\n\nAddFishForm.propTypes = {\n  addMenuItem: PropTypes.func\n};\nexport default AddFishForm;","map":{"version":3,"sources":["/Users/emrearas/Desktop/royal/src/Components/Settings/AddMenuForm.js"],"names":["React","PropTypes","AddFishForm","state","selectedImage","nameRef","createRef","priceRef","typeRef","descRef","imageRef","testRef","createMenuItem","event","preventDefault","menuItem","name","current","value","price","parseFloat","type","desc","image","props","addMenuItem","currentTarget","reset","uploadFile","e","key","file","target","files","url","xhr","XMLHttpRequest","fd","FormData","open","setRequestHeader","onreadystatechange","readyState","status","data","Object","values","JSON","parse","responseText","setState","updatedMenuItem","updateMenuItem","bind","append","send","handlePicture","fieldChange","handleImage","index","Component","propTypes","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass AddFishForm extends React.Component {\n\n    state = {\n        selectedImage:null\n    }\n\n    nameRef = React.createRef();\n    priceRef = React.createRef();\n    typeRef = React.createRef();\n    descRef = React.createRef();\n    imageRef = React.createRef();\n    testRef = React.createRef();\n\n    static propTypes = {\n        addMenuItem : PropTypes.func,\n    };\n\n    createMenuItem = event => {\n        event.preventDefault();\n        const menuItem = {\n            name : this.nameRef.current.value,\n            price : parseFloat(this.priceRef.current.value),\n            type : this.typeRef.current.value,\n            desc : this.descRef.current.value,\n            image : this.imageRef.current.value,\n        };\n        this.props.addMenuItem(menuItem);\n        event.currentTarget.reset();\n    }\n\n    uploadFile = (e,key) => {\n        let file = e.target.files[0];\n        var url = `https://api.cloudinary.com/v1_1/djgv39mwv/upload`;\n        var xhr = new XMLHttpRequest();\n        var fd = new FormData();\n        xhr.open('POST', url, true);\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        xhr.onreadystatechange = (function(e) {\n        if (xhr.readyState === 4 && xhr.status === 200) {\n            const data = Object.values(JSON.parse(xhr.responseText))[13];\n            this.setState({url:data},(() => {\n                const updatedMenuItem = {\n                    ...this.state.menuItem,\n                    'image' : data\n                };\n                this.updateMenuItem(key,updatedMenuItem);\n            }));\n        }\n        }.bind(this));\n    \n        fd.append('upload_preset', 'ombjh6fb');\n        fd.append('tags', 'browser_upload');\n        fd.append('file', file);\n        xhr.send(fd);\n    }\n\n    handlePicture = (e,key) => {\n        this.uploadFile(e,key);\n    }\n\n    fieldChange = event => {\n        this.setState({selectedImage : event.target.files[0]},\n        () => this.handleImage);\n    }\n\n  \n    render() {\n        return(\n            <form className = \"menu-edit\" onSubmit={this.createMenuItem}>\n                <input\n                    style={{'float' :'left', 'width':'33%'}}\n                    name=\"name\" \n                    ref ={this.nameRef} \n                    type=\"text\" \n                    placeholder=\"Name\"\n                />\n                <input\n                    style={{'float' :'left', 'width':'33%'}}\n                    name=\"price\" \n                    ref ={this.priceRef} \n                    type=\"text\" \n                    placeholder=\"Price\"\n                />\n                <select\n                    style={{'float' :'left', 'width':'33%'}}\n                    name=\"type\"\n                    ref ={this.typeRef}>\n                    <option value=\"Voorgerechten\">Voorgerechten</option>\n                    <option value=\"Hoofdgerechten\">Hoofdgerechten</option>\n                    <option value=\"Nagerechten\">Nagerechten</option>\n                </select>\n                <textarea \n                    name=\"desc\" \n                    ref ={this.descRef} \n                    type=\"text\" \n                    placeholder=\"Desc\"\n                />\n                <input \n                    style={{'float' :'left', 'width':'70%'}}\n                    type=\"text\" \n                    name = \"image\"\n                    onChange = {(e) => this.props.handlePicture(e)}\n                    value= {this.props.menuItem.image}\n                />\n                <input \n                    style={{'float' :'rigth', 'width':'30%'}}\n                    type=\"file\" \n                    onChange={(e) => this.props.handlePicture(e ,this.props.index)} \n                />\n                <button type=\"submit\">Add Menu Item</button>\n            </form>\n        )}\n}\n\nexport default AddFishForm;"]},"metadata":{},"sourceType":"module"}